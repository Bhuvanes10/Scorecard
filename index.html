<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cricket Scoreboard</title>
<style>
  body { font-family: Arial, sans-serif; background:#f4f4f4; margin:0; padding:20px;}
  .container { max-width: 1000px; margin:auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1);}
  h1,h2,h3 { text-align:center; }
  input[type=text]{padding:8px;margin-right:5px;}
  button{padding:8px 15px; margin:5px; border:none; border-radius:6px; background:#007bff; color:#fff; cursor:pointer;}
  button:hover{background:#0056b3;}
  .section{margin-bottom:20px;}
  .batters,.squad{display:flex; flex-wrap:wrap; gap:10px; margin-top:10px;}
  .player{padding:8px 12px; background:#eee; border-radius:6px; cursor:pointer;}
  .active{background:#28a745; color:#fff;}
  .out{background:#dc3545; color:#fff;}
  table{width:100%; border-collapse:collapse; margin-top:10px;}
  th,td{padding:10px; border:1px solid #ddd; text-align:center;}
</style>
</head>
<body>
<div class="container">
  <h1>Cricket Scoreboard</h1>
  
  <div class="section">
    <h2>Team 1 Squad</h2>
    <input type="text" id="team1Input" placeholder="Enter player name">
    <button onclick="addToSquad('team1')">Add Player</button>
    <div class="squad" id="team1Squad"></div>
  </div>

  <div class="section">
    <h2>Team 2 Squad</h2>
    <input type="text" id="team2Input" placeholder="Enter player name">
    <button onclick="addToSquad('team2')">Add Player</button>
    <div class="squad" id="team2Squad"></div>
  </div>

  <div class="section">
    <h2>Controls</h2>
    <button onclick="addRuns(0)">Dot</button>
    <button onclick="addRuns(1)">1</button>
    <button onclick="addRuns(2)">2</button>
    <button onclick="addRuns(3)">3</button>
    <button onclick="addRuns(4)">4</button>
    <button onclick="addRuns(6)">6</button>
    <button onclick="addWicket()">Wicket</button>
    <button onclick="addExtra('WD')">Wide</button>
    <button onclick="addExtra('NB')">No Ball</button>
    <button onclick="toggleRunner()">Toggle Runner</button>
    <button onclick="nextInning()">Next Inning</button>
  </div>

  <h3 id="inningDisplay">Inning 1 - Team 1 Batting</h3>
  <div class="batters" id="activeBatters"></div>

  <div id="scoreboard"></div>
</div>

<script>
let totalOvers = 6;
let inning = 1;
let currentTeam = 'team1';
let squads = { team1:[], team2:[] };
let activeBatters = { team1:[], team2:[] };
let score = { team1:{runs:0,wkts:0,balls:0,WD:0,NB:0}, team2:{runs:0,wkts:0,balls:0,WD:0,NB:0}};
let runnerMode = false;
let target = null;

function addToSquad(team){
  let input=document.getElementById(team+"Input");
  if(input.value.trim()!==""){
    squads[team].push({name:input.value.trim(),runs:0,balls:0,out:false});
    input.value="";
    renderSquad(team);
  }
}

function renderSquad(team){
  let div=document.getElementById(team+"Squad");
  div.innerHTML="";
  squads[team].forEach((p,i)=>{
    let d=document.createElement("div");
    d.className="player "+(p.out?"out":"");
    d.textContent=p.name;
    d.onclick=()=>selectBatsman(team,i);
    div.appendChild(d);
  });
  renderActiveBatters();
}

function selectBatsman(team,index){
  if(activeBatters[team].length<2 && !squads[team][index].out){
    activeBatters[team].push(index);
    renderActiveBatters();
  }
}

function renderActiveBatters(){
  let div=document.getElementById("activeBatters");
  div.innerHTML="";
  activeBatters[currentTeam].forEach(i=>{
    let p=squads[currentTeam][i];
    let d=document.createElement("div");
    d.className="player active";
    d.textContent=p.name+" ("+p.runs+" runs, "+p.balls+" balls)";
    div.appendChild(d);
  });
  renderScoreboard();
}

function addRuns(r){
  if(activeBatters[currentTeam].length<1) return alert("Select batsmen first!");
  let striker=squads[currentTeam][activeBatters[currentTeam][0]];
  if(!runnerMode){ // runs go to striker
    striker.runs+=r;
    striker.balls+=1;
  }else{ // runner mode, runs only to team
    striker.balls+=1;
  }
  score[currentTeam].runs+=r;
  score[currentTeam].balls+=1;
  if(r%2!==0) swapStrike();
  checkEnd();
  renderActiveBatters();
}

function addWicket(){
  if(activeBatters[currentTeam].length<1) return;
  let strikerIndex=activeBatters[currentTeam][0];
  squads[currentTeam][strikerIndex].out=true;
  squads[currentTeam][strikerIndex].balls+=1;
  score[currentTeam].balls+=1;
  score[currentTeam].wkts+=1;
  activeBatters[currentTeam].shift(); // remove striker
  checkEnd();
  renderSquad(currentTeam);
}

function addExtra(type){
  score[currentTeam][type]+=1;
  score[currentTeam].runs+=1;
  // no ball faced counted
  renderScoreboard();
}

function swapStrike(){
  if(activeBatters[currentTeam].length===2){
    [activeBatters[currentTeam][0],activeBatters[currentTeam][1]]=
    [activeBatters[currentTeam][1],activeBatters[currentTeam][0]];
  }
}

function toggleRunner(){
  runnerMode=!runnerMode;
  alert("Runner Mode: "+(runnerMode?"ON":"OFF"));
}

function nextInning(){
  if(inning===1){
    target=score.team1.runs+1;
    inning=2;
    currentTeam="team2";
    document.getElementById("inningDisplay").innerText="Inning 2 - Team 2 Batting (Target "+target+")";
  }else{
    alert("Match Finished!");
  }
  renderScoreboard();
}

function getOvers(balls){return Math.floor(balls/6)+"."+(balls%6);}

function checkEnd(){
  if(score[currentTeam].balls>=totalOvers*6 || activeBatters[currentTeam].length===0){
    alert("Inning over!");
    if(inning===1) nextInning();
  }
}

function renderScoreboard(){
  let div=document.getElementById("scoreboard");
  div.innerHTML="";
  for(let t in squads){
    let s=score[t];
    div.innerHTML+=`<h3>${t.toUpperCase()} - ${s.runs}/${s.wkts} in ${getOvers(s.balls)} overs</h3>`;
    let table="<table><tr><th>Batsman</th><th>Runs</th><th>Balls</th><th>Status</th></tr>";
    squads[t].forEach(p=>{
      table+=`<tr><td>${p.name}</td><td>${p.runs}</td><td>${p.balls}</td><td>${p.out?"Out":"Not Out"}</td></tr>`;
    });
    table+="</table>";
    div.innerHTML+=table+`<p>Extras: WD ${s.WD}, NB ${s.NB}</p>`;
  }
  if(inning===2 && target!==null){
    let runsNeeded=target-score.team2.runs;
    let ballsLeft=totalOvers*6-score.team2.balls;
    div.innerHTML+=`<h3>Team 2 needs ${runsNeeded} runs in ${ballsLeft} balls</h3>`;
  }
}
</script>
</body>
</html>
